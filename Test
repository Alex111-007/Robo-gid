#include <GyverStepper.h>

GStepper< STEPPER2WIRE> stepperL(1024, 2, 4, 7);
GStepper< STEPPER2WIRE> stepperR(1024, 8, 12, 13);

String command;
int distanse = 0;

void doing(comand)
{
  if (comand == "Forward") {
      stepperL.setTarget(distanse, RELATIVE);
      stepperR.setTarget(-distanse, RELATIVE);
    }
    else if (comand == "Back") {
      stepperL.setTarget(-distanse, RELATIVE);
      stepperR.setTarget(distanse, RELATIVE);
    }
    else if (comand == "Right") {
      stepperL.setTarget(-distanse, RELATIVE);
      stepperR.setTarget(-distanse, RELATIVE);
    }
    else if (comand == "Left") {
      stepperL.setTarget(distanse, RELATIVE);
      stepperR.setTarget(distanse, RELATIVE);
    }
    else if (comand == "ZoomIn"){
      distanse = distanse + nnnn;
    }
    else if (comand == "ZoomOut"){
      distanse = distanse - nnnn;
    }
}

void setup() {
  Serial.begin(115200);
  stepperL.setRunMode(FOLLOW_POS);
  stepperL.setMaxSpeed(400);
  stepperL.setAcceleration(500);

  stepperR.setRunMode(FOLLOW_POS);
  stepperR.setMaxSpeed(1000);
  stepperR.setAcceleration(500);
}
void loop() {
  if (!stepper.tick){
    if (Serial.available()) {
      command = Serial.readString();
      Serial.println(command);

      doing(command);
    }
  }
}
